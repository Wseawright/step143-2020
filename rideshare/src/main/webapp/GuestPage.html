<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Rideshare Webapp</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyARPxINyKUXQkjeJNPxpHceSK9_W_XlHoA&callback=initMap&libraries=places" async defer></script>        
    <style>
        #addRoute {border: thin solid black; height: 500px; width: 500px; margin-left: 10%;}
    </style>
</head>

<body onload = "loadEntries();loadUser();">
    <div id= "guestApp">    
        <div id="content">
            <h1>Rideshare App</h1>            
        <ul>
            <li><a href="/index.html "> <button class="guestButton" id="exitGuestMode">Exit Guest Mode</button> </a></li>
            <li><div id="LoginUsingGoogle"></div></li>
        </ul> 

            <h3>GUEST may only view rides, please LOGIN to Post and Join rides.</h3>
            <div id="rideHeading">
                    <h3>Post a ride below:</h3>
                    <h3>Directions:</h3>
                </div>
                <br/> <!-- Functional Search Boxes -->
                <div id="addRoute" style="margin-left: 0%; float: left;"></div>
                <div id="directions"></div>
                
                <br/>

                <form id="geolocation"> 
                    <!-- <button id="getButton" type="button">Get Route</button> -->
                </form>   
 
                <form id="addride" action="/data" method="POST">
                    <button type=button id="useGPS" onclick="getLocationGPS();">Use GPS</button>
                    <input type="text" id="startAddress" name="startAddress" placeholder="Enter Start Address" >
                    <input type="text" id="endAddress" name="endAddress" placeholder="Enter End Address">
                    <br/><br/>
                    <button id="getButton" type="button" form="geolocation">Get Route</button>
                    <br/><br/>
                    <div id="info">
                        <p>Start Lat: </p><textarea id="lat" name="lat" class="taSize"></textarea>
                        <p>End Lat: </p><textarea id="endlat" name="endlat" class="taSize"></textarea>
                        <p>Distance: </p><textarea name="distance" id="distance" class="taSize"></textarea>

                        <p>Start Long: </p><textarea id="lng" name="lng" class="taSize"></textarea>
                        <p>End Long: </p><textarea id="endlng" name="endlng" class="taSize"></textarea>
                        <p>Estimated Time: </p><textarea name="eta" id="eta" class="taSize"></textarea>
                    </div>                          
                </form>

                <br/><hr/><br/>
 
                <h3> Search for rides below: </h3>
                <form>
                    <label>Max # of rides:</label>
                    <select onchange="getMessages()" id="maxcomments" name="maxcomments" required style="width:15%">
                        <option value="" disabled selected>Choose</option>
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="20">20</option>
                    </select>
                </form>

                <div id="sortMap"></div>
                <br/>

      <!-- <p> Note: About 1 degree at the equator is 111,319.5 meters </p> -->

      <form>
          <textarea id="closestartlat" name="closestartlat" placeholder="Enter Starting Latitude" style="height:25px; width:200px"></textarea>
          <textarea id="closestartlng" name="closestartlng" placeholder="Enter Starting Longitude" style="height:25px; width:200px"></textarea>
          <textarea id="closeendlat" name="closeendlat" placeholder="Enter Ending Latitude" style="height:25px; width:200px"></textarea>
          <textarea id="closeendlng" name="closeendlng" placeholder="Enter Ending Longitude" style="height:25px; width:200px"></textarea>
          <div id="sortByAddress">
            <h5 id="searchboxInfo">Desired start location: </h5>
            <input type="text" id="sortRidesBox" name="sortRidesSearchbox" placeholder="Enter Address">
          </div>
          <textarea id="maxdistance" name = "maxdistance" placeholder="Enter Max Distance from away Start Point (Meters)" style="height: 50px; width:200px"></textarea>
          <div id="sortByEndAddress">
            <h5 id="searchboxEndInfo">Desired end location: </h5>
            <input type="text" id="sortRidesEndBox" name="sortRidesEndSearchbox" placeholder="Enter Address">
          </div>
          <textarea id="maxdistanceend" name = "maxdistanceend" placeholder="Enter Max Distance from away End Point (Meters)" style="height: 50px; width:200px"></textarea>
          <br/>
            <label>Sort:</label>
              <select id="sort" name="sort" onchange="sortRides()" required style="width:20%">
                <option value="" disabled selected>Choose</option>
                <option value="alphabetical">By name alphabetical (A-Z)</option>
                <option value="reverse-alphabetical">By name alphabetical (Z-A)</option>
                <option value="startdistance">Within chosen distance of start location</option>
                <option value="enddistance">Within chosen distance of end location</option>
                <option value="bothdistance">Within chosen distance of both start and end locations</option>
                <option value="date">Soonest Dates</option>
                <option value="fardate">Latest Dates</option>
                <option value="price">Price(Low to High)</option>
              </select>

      </form>
      <!-- <button onclick="appendRatings();"> See Ratings </button> -->
      <br/>
      <table style="width:100%" id="entry-list">
        <tr>
          <th>Driver Info</th>
          <th>From</th>
          <th>To</th>
          <th>Distance</th>
          <th>Ride Date</th>
          <th>Price($)</th>
          <th>Payment Method</th>
          <th>Current # of Riders</th>
          <th>Capacity</th>
        </tr>
      </table> <br/>
      
      
    </div>
   </div>
  </body>
</html>
